/**
 * minitranslate.js
 * http://bryce.io/minitranslate
 * minitranslate.herokuapp.com
 *
 * @version
 * 1.1.2 (July 28 2014)
 *
 * @license
 * The MIT license.
 */
function mt(a,b){(""!==b.innerHTML||""!==b.value)&&a.length>0&&"mt-ignore"!==b.getAttribute("class")&&(b.children.length>0?Array.prototype.forEach.call(b.children,function(a){"mt-ignore"!==a.getAttribute("class")&&apply_translation(a)}):apply_translation(b))}function apply_translation(a){d=delouse(a),iterate_lib(d[0],mt_lib),append_punctuation(d[0],d[1]),write_changes(a,d[0])}function append_punctuation(a,b){b.map(function(b){a[b.idx]+=b.c})}function write_changes(a,b){var c=b.join(" ");"mt-output"===a.id?a.value=c:a.innerHTML=c}function delouse(a){var b="mt-output"===a.id?a.value:a.innerText,c=b.split(" "),d=get_punct(c);return txt_arr=b.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"").split(" "),[txt_arr,d]}function iterate_lib(a,b){for(var c=0;c<a.length;c++)b.every(function(b){if(a[c].toLowerCase()===b.w.toLowerCase()){var d=detect_capitals(a[c]);return a[c]=apply_capitals(b.r,d),!1}return!0})}function get_punct(a){var b=[];return a.map(function(a,c){a.split("").map(function(a){("!"===a||"?"===a||","===a||"."===a)&&b.push(new Pun(a,c))})}),b}function detect_capitals(a){return a.split("").map(function(b,c){return a.charAt(c)>="A"&&a.charAt(c)<="Z"?1:0})}function apply_capitals(a,b){for(var c="",d=a.length>=b.length?b.length:a.length,e=0;d>e;e++)c+=b[e]?a.charAt(e).toUpperCase():a.charAt(e).toLowerCase();return a.length>=b.length&&(c+=a.substr(e,a.length-1)),c}function Pun(a,b){this.c=a,this.idx=b}function mt_translate(a){Array.prototype.forEach.call(document.querySelectorAll(".mt-translate"),function(b){mt(a,b)})}function mt_watch(a){var b=document.getElementById("mt-input"),c=document.getElementById("mt-output"),d=document.getElementById("mt-button");null!==b&&null!==c&&(d&&(d.onclick=function(){c.value=b.value,mt(a,c)}),b.onkeyup=function(){-1===b.getAttribute("class").indexOf("mt-patient")&&(c.value=b.value,mt(a,c))})}document.getElementById("mt-input")&&!document.getElementById("mt-output")&&console.log("mt.js: Input detected but no output. Check your output ID."),!document.getElementById("mt-input")&&document.getElementById("mt-output")&&console.log("mt.js: Output detected but no input. Check your input ID."),document.getElementById("mt-input")&&document.getElementById("mt-output")&&mt_watch(mt_lib),mt_translate(mt_lib);